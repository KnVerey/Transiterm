<div class="row full-width">
	<div class="small-12 columns">
		<h1>Multi-collection search </h1>
		<h5 class="subheader">
			<% if @collections.empty? %>
				&larr; Use sidebar to choose collections to search
			<% else %>
				You're searching:
			<% end %>
			<% @collections.length.times do |c| %>
				<% spacer = (c == (@collections.length - 1) ? "" : ", ") %>
				<%= @collections[c].title + spacer %>
			<% end %>
		</h5>
	</div>
</div>

<div class="row search-bar">
  <div class="small-11 columns">
  	<%= form_tag(user_collections_path, method: :get) do %>
	    <div class="row collapse">
		      <div class="small-6 large-8 columns">
		      	<%= text_field_tag "search", nil, placeholder: "Search terms" %>

		      </div>
		      <div class="small-1 columns">
		      	<%= submit_tag "Go", class: "button postfix radius" %>
		      </div>
		      <div class="small-4 large-2 columns right">
		      	<%= select_tag "field", options_for_select(@fields, "English") %>
		      	<span class="right" id="match-box"><%= check_box_tag "exact_match" %>
		      	<%= label_tag "exact_match", "Exact match" %></span>
		      </div>
	    </div>
    <% end %>
  </div>
</div>

<% if @term_records.present? %>
	<table class="records-table">
		<thead>
			<tr>
				<% @columns.each do |lang| %>
					<th class="lang-column" width="<%= 60 / @columns.length %>%"><%= lang.capitalize %></th>
				<% end %>
				<th class="source-column">Source</th>
				<th class="domain-column">Domain</th>
				<th class="expander-column"></th>
			</tr>
		</thead
		<tbody>
			<%= render @term_records %>
		</tbody>
	</table>
<% else %>
<h5 class="subheader">No results, sorry</h5>
<% end %>